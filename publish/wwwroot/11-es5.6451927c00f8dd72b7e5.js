function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"6ANv":function(t,e,n){"use strict";n.r(e);var i=n("ofXK"),r=n("PCNd"),c=n("tyNb"),a=n("XJHN"),o=n("fXoL"),s=n("mwRl"),u=n("/gyc"),l=n("3Pt+"),b=n("cAP4"),p=n("2rwd"),d=n("CQR8");function h(t,e){if(1&t){var n=o.Wb();o.Vb(0,"button",12),o.dc("click",(function(t){return o.Ac(n),o.hc().addItemToBasket()})),o.Ub()}}function f(t,e){if(1&t){var n=o.Wb();o.Vb(0,"button",13),o.dc("click",(function(t){o.Ac(n);var e=o.hc();return e.removeItemFromBasket(e.product.id)})),o.Ub()}}function m(t,e){if(1&t){var n=o.Wb();o.Vb(0,"i",17),o.dc("click",(function(t){return o.Ac(n),o.hc(2).addItemToWishList()})),o.Ub()}}function g(t,e){if(1&t){var n=o.Wb();o.Vb(0,"i",18),o.dc("click",(function(t){o.Ac(n);var e=o.hc(2);return e.removeItemFromWishList(e.product.id)})),o.Ub()}}function v(t,e){if(1&t&&(o.Vb(0,"div",14),o.Hc(1,m,1,0,"i",15),o.Hc(2,g,1,0,"i",16),o.Ub()),2&t){var n=o.hc();o.Bb(1),o.nc("ngIf",!n.isAlready2(n.product.id)),o.Bb(1),o.nc("ngIf",n.isAlready2(n.product.id))}}var y,k=((y=function(){function t(e,n,i){_classCallCheck(this,t),this.basketService=e,this.accountService=n,this.wishlistService=i}return _createClass(t,[{key:"ngOnInit",value:function(){this.currentUser$=this.accountService.currentUser$}},{key:"addItemToBasket",value:function(){this.basketService.addItemToBasket(this.product)}},{key:"removeItemFromBasket",value:function(t){this.basketService.deletNow(t)}},{key:"isAlready",value:function(t){var e=this.basketService.getCurrentBasketValue();return null!==e&&e.items.findIndex((function(e){return e.id===t}))>-1}},{key:"addItemToWishList",value:function(){this.wishlistService.addItemToWishList(this.product)}},{key:"removeItemFromWishList",value:function(t){this.wishlistService.deletNow(t)}},{key:"isAlready2",value:function(t){var e=this.wishlistService.getCurrentWishListValue();return null!==e&&e.items.findIndex((function(e){return e.id===t}))>-1}}]),t}()).\u0275fac=function(t){return new(t||y)(o.Pb(b.a),o.Pb(p.a),o.Pb(d.a))},y.\u0275cmp=o.Jb({type:y,selectors:[["app-product-item"]],inputs:{product:"product"},decls:17,vars:13,consts:[[1,"card","h-100","shadow-sm"],[1,"image","position-relative",2,"cursor","pointer"],[1,"img-fluid","bg-info",3,"src","alt"],[1,"d-flex","align-items-center","justify-content-center","hover-overlay"],["type","button","class","btn btn-primary fa fa-shopping-cart mr-2",3,"click",4,"ngIf"],["type","button","class","btn btn-primary fas fa-trash-alt mr-2",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"routerLink"],[1,"card-body","d-flex","flex-column"],[3,"routerLink"],[1,"text-uppercase"],[1,"mb-2"],["class","coeur",4,"ngIf"],["type","button",1,"btn","btn-primary","fa","fa-shopping-cart","mr-2",3,"click"],["type","button",1,"btn","btn-primary","fas","fa-trash-alt","mr-2",3,"click"],[1,"coeur"],["class","far fa-heart",3,"click",4,"ngIf"],["class","fas fa-heart",3,"click",4,"ngIf"],[1,"far","fa-heart",3,"click"],[1,"fas","fa-heart",3,"click"]],template:function(t,e){1&t&&(o.Vb(0,"div",0),o.Vb(1,"div",1),o.Qb(2,"img",2),o.Vb(3,"div",3),o.Hc(4,h,1,0,"button",4),o.Hc(5,f,1,0,"button",5),o.Vb(6,"button",6),o.Jc(7,"View"),o.Ub(),o.Ub(),o.Ub(),o.Vb(8,"div",7),o.Vb(9,"a",8),o.Vb(10,"h6",9),o.Jc(11),o.Ub(),o.Ub(),o.Vb(12,"span",10),o.Jc(13),o.ic(14,"currency"),o.Hc(15,v,3,2,"div",11),o.ic(16,"async"),o.Ub(),o.Ub(),o.Ub()),2&t&&(o.Bb(2),o.oc("src",e.product.pictureUrl,o.Cc),o.oc("alt",e.product.name),o.Bb(2),o.nc("ngIf",!e.isAlready(e.product.id)),o.Bb(1),o.nc("ngIf",e.isAlready(e.product.id)),o.Bb(1),o.pc("routerLink","/shop/",e.product.id,""),o.Bb(3),o.pc("routerLink","/shop/",e.product.id,""),o.Bb(2),o.Kc(e.product.name),o.Bb(2),o.Lc(" ",o.jc(14,9,e.product.price)," "),o.Bb(2),o.nc("ngIf",o.jc(16,11,e.currentUser$)))},directives:[i.n,c.d,c.f],pipes:[i.d,i.b],styles:[".btn[_ngcontent-%COMP%]{width:30%;height:40px}.image[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{opacity:1}.image[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover   button[_ngcontent-%COMP%]{-webkit-transform:none;transform:none;opacity:1}i[_ngcontent-%COMP%]{cursor:pointer;font-size:25px;color:#e95420}.mb-2[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between}.hover-overlay[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;background:hsla(0,0%,100%,.5);opacity:0}.hover-overlay[_ngcontent-%COMP%], .hover-overlay[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{-webkit-transition:all .5s;transition:all .5s}.hover-overlay[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{z-index:1000}.hover-overlay[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-of-type{-webkit-transform:translateX(-20px);transform:translateX(-20px)}.hover-overlay[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-of-type{-webkit-transform:translateX(20px);transform:translateX(20px)}@media screen and (max-width:47.94em){.mb-2[_ngcontent-%COMP%]{display:-webkit-box;display:flex;flex-wrap:wrap}}@media screen and (max-width:65em){.card[_ngcontent-%COMP%]{width:200px}}"]}),y),P=n("a4eG"),w=["search"];function S(t,e){if(1&t&&(o.Vb(0,"option",17),o.Jc(1),o.Ub()),2&t){var n=e.$implicit,i=o.hc(2);o.nc("selected",i.shopParams.sort===n.value)("value",n.value),o.Bb(1),o.Lc(" ",n.name," ")}}function C(t,e){if(1&t){var n=o.Wb();o.Vb(0,"li",18),o.dc("click",(function(t){o.Ac(n);var i=e.$implicit;return o.hc(2).onBrandSelected(i.id)})),o.Jc(1),o.Ub()}if(2&t){var i=e.$implicit,r=o.hc(2);o.Gb("active",i.id===r.shopParams.brandId),o.nc("value",i.id),o.Bb(1),o.Lc(" ",i.name," ")}}function x(t,e){if(1&t){var n=o.Wb();o.Vb(0,"li",18),o.dc("click",(function(t){o.Ac(n);var i=e.$implicit;return o.hc(2).onTypeSelected(i.id)})),o.Jc(1),o.Ub()}if(2&t){var i=e.$implicit,r=o.hc(2);o.Gb("active",i.id===r.shopParams.typeId),o.nc("value",i.id),o.Bb(1),o.Lc(" ",i.name," ")}}function U(t,e){if(1&t){var n=o.Wb();o.Tb(0),o.Vb(1,"h5",11),o.Jc(2,"Sort"),o.Ub(),o.Vb(3,"select",12),o.dc("change",(function(t){return o.Ac(n),o.hc().onSortSelected(t.target.value)})),o.Hc(4,S,2,3,"option",13),o.Ub(),o.Vb(5,"h5",14),o.Jc(6,"Brands"),o.Ub(),o.Vb(7,"ul",15),o.Hc(8,C,2,4,"li",16),o.Ub(),o.Vb(9,"h5",14),o.Jc(10,"Types"),o.Ub(),o.Vb(11,"ul",15),o.Hc(12,x,2,4,"li",16),o.Ub(),o.Sb()}if(2&t){var i=o.hc();o.Bb(4),o.nc("ngForOf",i.sortOptions),o.Bb(4),o.nc("ngForOf",i.brands),o.Bb(4),o.nc("ngForOf",i.types)}}function V(t,e){if(1&t){var n=o.Wb();o.Vb(0,"div",19),o.Vb(1,"input",20,21),o.dc("keyup.enter",(function(t){return o.Ac(n),o.hc().onSearch()})),o.Ub(),o.Vb(3,"button",22),o.dc("click",(function(t){return o.Ac(n),o.hc().onSearch()})),o.Jc(4,"Search"),o.Ub(),o.Vb(5,"button",23),o.dc("click",(function(t){return o.Ac(n),o.hc().onReset()})),o.Jc(6,"Reset"),o.Ub(),o.Ub()}}function _(t,e){if(1&t&&(o.Vb(0,"div",24),o.Qb(1,"app-product-item",25),o.Ub()),2&t){var n=e.$implicit;o.Bb(1),o.nc("product",n)}}function I(t,e){if(1&t){var n=o.Wb();o.Vb(0,"div",26),o.Vb(1,"app-pager",27),o.dc("pageChanged",(function(t){return o.Ac(n),o.hc().onPageChanged(t)})),o.Ub(),o.Ub()}if(2&t){var i=o.hc();o.Bb(1),o.nc("pageSize",i.shopParams.pageSize)("pageNumber",i.shopParams.pageNumber)("totalCount",i.totalCount)}}var O,B=((O=function(){function t(e){_classCallCheck(this,t),this.shopService=e,this.sortOptions=[{name:"Alphabetical",value:"name"},{name:"Price: Low to High",value:"priceAsc"},{name:"Price: High to Low",value:"priceDesc"}],this.shopParams=this.shopService.getShopParams()}return _createClass(t,[{key:"ngOnInit",value:function(){this.getProducts(!0),this.getBrands(),this.getTypes()}},{key:"getProducts",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.shopService.getProducts(e).subscribe((function(e){t.products=e.data,t.totalCount=e.count}),(function(t){console.log(t)}))}},{key:"getBrands",value:function(){var t=this;this.shopService.getBrands().subscribe((function(e){t.brands=[{id:0,name:"All"}].concat(_toConsumableArray(e))}),(function(t){console.log(t)}))}},{key:"getTypes",value:function(){var t=this;this.shopService.getTypes().subscribe((function(e){t.types=[{id:0,name:"All"}].concat(_toConsumableArray(e))}),(function(t){console.log(t)}))}},{key:"onBrandSelected",value:function(t){var e=this.shopService.getShopParams();e.brandId=t,e.pageNumber=1,this.shopService.setShopParams(e),this.getProducts()}},{key:"onTypeSelected",value:function(t){var e=this.shopService.getShopParams();e.typeId=t,e.pageNumber=1,this.shopService.setShopParams(e),this.getProducts()}},{key:"onSortSelected",value:function(t){var e=this.shopService.getShopParams();e.sort=t,this.shopService.setShopParams(e),this.getProducts()}},{key:"onPageChanged",value:function(t){var e=this.shopService.getShopParams();e.pageNumber!==t&&(e.pageNumber=t,this.shopService.setShopParams(e),this.getProducts(!0))}},{key:"onSearch",value:function(){var t=this.shopService.getShopParams();t.search=this.searchTerm.nativeElement.value,t.pageNumber=1,this.shopService.setShopParams(t),this.getProducts()}},{key:"onReset",value:function(){this.searchTerm.nativeElement.value="",this.shopParams=new a.a,this.shopService.setShopParams(this.shopParams),this.getProducts()}}]),t}()).\u0275fac=function(t){return new(t||O)(o.Pb(s.a))},O.\u0275cmp=o.Jb({type:O,selectors:[["app-shop"]],viewQuery:function(t,e){var n;1&t&&o.Oc(w,!0),2&t&&o.wc(n=o.ec())&&(e.searchTerm=n.first)},decls:11,vars:7,consts:[[1,"container","mt-3"],[1,"row"],[1,"col-3"],[4,"ngIf"],[1,"col-9"],[1,"d-flex","justify-content-between","align-items-center","pb-2"],[3,"totalCount","pageSize","pageNumber"],["class","form-inline",4,"ngIf"],["id","allcard",1,"row"],["class","col-4 mb-4",4,"ngFor","ngForOf"],["class","d-flex justify-content-center",4,"ngIf"],[1,"text-warning","ml-3","mt-4","mb-3"],[1,"custom-select","mb-4",3,"change"],[3,"selected","value",4,"ngFor","ngForOf"],[1,"text-warning","ml-3"],[1,"list-group","my-3"],["class","list-group-item",3,"active","value","click",4,"ngFor","ngForOf"],[3,"selected","value"],[1,"list-group-item",3,"value","click"],[1,"form-inline"],["placeholder","Search","type","text",1,"form-control","mr-2",2,"width","300px",3,"keyup.enter"],["search",""],[1,"btn","btn-outline-primary","my-2",3,"click"],[1,"btn","btn-outline-success","ml-2","my-2",3,"click"],[1,"col-4","mb-4"],[3,"product"],[1,"d-flex","justify-content-center"],[3,"pageSize","pageNumber","totalCount","pageChanged"]],template:function(t,e){1&t&&(o.Vb(0,"div",0),o.Vb(1,"div",1),o.Vb(2,"section",2),o.Hc(3,U,13,3,"ng-container",3),o.Ub(),o.Vb(4,"section",4),o.Vb(5,"div",5),o.Qb(6,"app-paging-header",6),o.Hc(7,V,7,0,"div",7),o.Ub(),o.Vb(8,"div",8),o.Hc(9,_,2,1,"div",9),o.Ub(),o.Hc(10,I,2,3,"div",10),o.Ub(),o.Ub(),o.Ub()),2&t&&(o.Bb(3),o.nc("ngIf",e.types&&e.brands),o.Bb(3),o.nc("totalCount",e.totalCount)("pageSize",e.shopParams.pageSize)("pageNumber",e.shopParams.pageNumber),o.Bb(1),o.nc("ngIf",e.products),o.Bb(2),o.nc("ngForOf",e.products),o.Bb(1),o.nc("ngIf",e.totalCount>0))},directives:[i.n,u.a,i.m,l.p,l.w,k,P.a],styles:[".list-group-item[_ngcontent-%COMP%]{cursor:pointer;border:none;padding:10px 20px;font-size:1.1em}.list-group-item[_ngcontent-%COMP%]:focus{outline:none}.list-group-item.active[_ngcontent-%COMP%]{border-radius:10px}.list-group-item[_ngcontent-%COMP%]:not(.active):hover{color:#fff;background-color:rgba(233,86,32,.705);border-radius:10px}@media screen and (max-width:65em){#allcard[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;flex-wrap:wrap!important;-webkit-box-pack:center;justify-content:center;margin:auto}input.form-control[_ngcontent-%COMP%]{width:180px!important}}"]}),O),A=n("XGsO"),M=n("tc9g");function J(t,e){if(1&t){var n=o.Wb();o.Vb(0,"div",2),o.Vb(1,"div",3),o.Qb(2,"ngx-gallery",4),o.Ub(),o.Vb(3,"div",3),o.Vb(4,"h3"),o.Jc(5),o.Ub(),o.Vb(6,"p",5),o.Jc(7),o.ic(8,"currency"),o.Ub(),o.Vb(9,"div",6),o.Vb(10,"i",7),o.dc("click",(function(t){return o.Ac(n),o.hc().decrementQuantity()})),o.Ub(),o.Vb(11,"span",8),o.Jc(12),o.Ub(),o.Vb(13,"i",9),o.dc("click",(function(t){return o.Ac(n),o.hc().incrementQuantity()})),o.Ub(),o.Vb(14,"button",10),o.dc("click",(function(t){return o.Ac(n),o.hc().addItemToBasket()})),o.Jc(15,"Add to Cart"),o.Ub(),o.Ub(),o.Vb(16,"div",11),o.Vb(17,"div",12),o.Vb(18,"h4"),o.Jc(19,"Description"),o.Ub(),o.Vb(20,"p"),o.Jc(21),o.Ub(),o.Ub(),o.Ub(),o.Ub(),o.Ub()}if(2&t){var i=o.hc();o.Bb(2),o.nc("options",i.galleryOptions)("images",i.galleryImages),o.Bb(3),o.Kc(i.product.name),o.Bb(2),o.Kc(o.jc(8,6,i.product.price)),o.Bb(5),o.Kc(i.quantity),o.Bb(9),o.Kc(i.product.description)}}var T,N,H=[{path:"",component:B},{path:":id",component:(T=function(){function t(e,n,i,r){_classCallCheck(this,t),this.shopService=e,this.activateRoute=n,this.bcService=i,this.basketService=r,this.quantity=1,this.bcService.set("@productDetails","")}return _createClass(t,[{key:"ngOnInit",value:function(){this.loadProduct()}},{key:"initializeGallery",value:function(){this.galleryOptions=[{width:"500px",height:"600px",imagePercent:100,thumbnailsColumns:4,imageAnimation:A.a.Fade,imageSize:A.c.Contain,thumbnailSize:A.c.Contain,preview:!1}],this.galleryImages=this.getImages()}},{key:"getImages",value:function(){var t=[],e=!0,n=!1,i=void 0;try{for(var r,c=this.product.photos[Symbol.iterator]();!(e=(r=c.next()).done);e=!0){var a=r.value;t.push({small:a.pictureUrl,medium:a.pictureUrl,big:a.pictureUrl})}}catch(o){n=!0,i=o}finally{try{e||null==c.return||c.return()}finally{if(n)throw i}}return t}},{key:"addItemToBasket",value:function(){this.basketService.addItemToBasket(this.product,this.quantity)}},{key:"incrementQuantity",value:function(){this.quantity++}},{key:"decrementQuantity",value:function(){this.quantity>1&&this.quantity--}},{key:"loadProduct",value:function(){var t=this;this.shopService.getProduct(+this.activateRoute.snapshot.paramMap.get("id")).subscribe((function(e){t.product=e,t.bcService.set("@productDetails",e.name),t.initializeGallery()}),(function(t){console.log(t)}))}}]),t}(),T.\u0275fac=function(t){return new(t||T)(o.Pb(s.a),o.Pb(c.a),o.Pb(M.c),o.Pb(b.a))},T.\u0275cmp=o.Jb({type:T,selectors:[["app-product-details"]],decls:2,vars:1,consts:[[1,"container","mt-5"],["class","row",4,"ngIf"],[1,"row"],[1,"col-6"],["id","imgg",2,"display","inline-block","margin-bottom","20px",3,"options","images"],[2,"font-size","2em"],[1,"d-flex","justify-content-start","align-items-center"],[1,"fa","fa-minus-circle","text-warning","mr-2",2,"cursor","pointer","font-size","2em",3,"click"],[1,"font-weight-bold",2,"font-size","1.5em"],[1,"fa","fa-plus-circle","text-warning","mx-2",2,"cursor","pointer","font-size","2em",3,"click"],[1,"btn","btn-outline-primary","btn-lg","ml-4",3,"click"],[1,"row","mt-5"],[1,"col-12","ml-3"]],template:function(t,e){1&t&&(o.Vb(0,"div",0),o.Hc(1,J,22,8,"div",1),o.Ub()),2&t&&(o.Bb(1),o.nc("ngIf",e.product))},directives:[i.n,A.b],pipes:[i.d],styles:["@media screen and (max-width:65em){.row[_ngcontent-%COMP%]{display:-webkit-box;display:flex;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:center;align-items:center}#imgg[_ngcontent-%COMP%]{width:250px!important}}"]}),T),data:{breadcrumb:{alias:"productDetails"},animation:"isBat1"}}],L=((N=function t(){_classCallCheck(this,t)}).\u0275mod=o.Nb({type:N}),N.\u0275inj=o.Mb({factory:function(t){return new(t||N)},imports:[[c.g.forChild(H)],c.g]}),N),W=n("pKmL");n.d(e,"ShopModule",(function(){return z}));var j,z=((j=function t(){_classCallCheck(this,t)}).\u0275mod=o.Nb({type:j}),j.\u0275inj=o.Mb({factory:function(t){return new(t||j)},imports:[[i.c,r.a,W.a,L]]}),j)}}]);