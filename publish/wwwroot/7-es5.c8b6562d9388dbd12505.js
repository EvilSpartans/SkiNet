function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{jkDv:function(e,t,n){"use strict";n.r(t);var i,r=n("ofXK"),c=n("PCNd"),o=n("fXoL"),a=n("mwRl"),d=n("AytR"),s=n("tk/3"),b=((i=function(){function e(t){_classCallCheck(this,e),this.http=t,this.baseUrl=d.a.apiUrl}return _createClass(e,[{key:"createProduct",value:function(e){return this.http.post(this.baseUrl+"products",e)}},{key:"updateProduct",value:function(e,t){return this.http.put(this.baseUrl+"products/"+t,e)}},{key:"deleteProduct",value:function(e){return this.http.delete(this.baseUrl+"products/"+e)}},{key:"uploadImage",value:function(e,t){var n=new FormData;return n.append("photo",e,"image.png"),this.http.put(this.baseUrl+"products/"+t+"/photo",n,{reportProgress:!0,observe:"events"})}},{key:"deleteProductPhoto",value:function(e,t){return this.http.delete(this.baseUrl+"products/"+t+"/photo/"+e)}},{key:"setMainPhoto",value:function(e,t){return this.http.post(this.baseUrl+"products/"+t+"/photo/"+e,{})}}]),e}()).\u0275fac=function(e){return new(e||i)(o.Zb(s.b))},i.\u0275prov=o.Lb({token:i,factory:i.\u0275fac,providedIn:"root"}),i),u=n("tyNb"),p=n("/gyc"),l=n("a4eG"),h=function(e){return["edit",e]};function g(e,t){if(1&e){var n=o.Wb();o.Vb(0,"tr"),o.Vb(1,"td",18),o.Jc(2),o.Ub(),o.Vb(3,"td"),o.Vb(4,"div",12),o.Qb(5,"img",19),o.Ub(),o.Ub(),o.Vb(6,"th",18),o.Vb(7,"h5"),o.Jc(8),o.Ub(),o.Ub(),o.Vb(9,"td",18),o.Jc(10),o.ic(11,"currency"),o.Ub(),o.Vb(12,"td",18),o.Vb(13,"button",20),o.Jc(14,"Edit"),o.Ub(),o.Ub(),o.Vb(15,"td",18),o.Vb(16,"button",21),o.dc("click",(function(e){o.Ac(n);var i=t.$implicit;return o.hc(2).deleteProduct(i.id)})),o.Jc(17,"Delete"),o.Ub(),o.Ub(),o.Ub()}if(2&e){var i=t.$implicit;o.Bb(2),o.Kc(i.id),o.Bb(3),o.oc("src",i.pictureUrl||"/assets/images/placeholder.png",o.Cc),o.oc("alt",i.name),o.Bb(3),o.Kc(i.name),o.Bb(2),o.Kc(o.jc(11,6,i.price)),o.Bb(3),o.nc("routerLink",o.rc(8,h,i.id))}}function f(e,t){if(1&e){var n=o.Wb();o.Vb(0,"div",22),o.Vb(1,"app-pager",23),o.dc("pageChanged",(function(e){return o.Ac(n),o.hc(2).onPageChanged(e)})),o.Ub(),o.Ub()}if(2&e){var i=o.hc(2);o.Bb(1),o.nc("pageSize",i.shopParams.pageSize)("pageNumber",i.shopParams.pageNumber)("totalCount",i.totalCount)}}var v=function(){return["/admin/create"]};function m(e,t){if(1&e&&(o.Vb(0,"section",1),o.Vb(1,"div",2),o.Vb(2,"div",3),o.Vb(3,"div",4),o.Vb(4,"div",5),o.Vb(5,"header",6),o.Jc(6,"Product List"),o.Ub(),o.Vb(7,"button",7),o.Jc(8,"Create new product"),o.Ub(),o.Ub(),o.Qb(9,"app-paging-header",8),o.Vb(10,"div",9),o.Vb(11,"table",10),o.Vb(12,"thead"),o.Vb(13,"tr"),o.Vb(14,"th",11),o.Vb(15,"div",12),o.Jc(16,"Id"),o.Ub(),o.Ub(),o.Vb(17,"th",11),o.Vb(18,"div",13),o.Jc(19,"Product"),o.Ub(),o.Ub(),o.Vb(20,"th",11),o.Vb(21,"div",14),o.Jc(22,"Name"),o.Ub(),o.Ub(),o.Vb(23,"th",11),o.Vb(24,"div",15),o.Jc(25,"Price"),o.Ub(),o.Ub(),o.Vb(26,"th",11),o.Vb(27,"div",15),o.Jc(28,"Edit"),o.Ub(),o.Ub(),o.Vb(29,"th",11),o.Vb(30,"div",15),o.Jc(31,"Delete"),o.Ub(),o.Ub(),o.Ub(),o.Ub(),o.Vb(32,"tbody"),o.Hc(33,g,18,10,"tr",16),o.Ub(),o.Ub(),o.Ub(),o.Hc(34,f,2,3,"div",17),o.Ub(),o.Ub(),o.Ub(),o.Ub()),2&e){var n=o.hc();o.Bb(7),o.nc("routerLink",o.qc(6,v)),o.Bb(2),o.nc("totalCount",n.totalCount)("pageSize",n.shopParams.pageSize)("pageNumber",n.shopParams.pageNumber),o.Bb(24),o.nc("ngForOf",n.products),o.Bb(1),o.nc("ngIf",n.totalCount>0)}}var U,y=((U=function(){function e(t,n){_classCallCheck(this,e),this.shopService=t,this.adminService=n,this.shopParams=this.shopService.getShopParams()}return _createClass(e,[{key:"ngOnInit",value:function(){this.getProducts()}},{key:"getProducts",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.shopService.getProducts(t).subscribe((function(t){e.products=t.data,e.totalCount=t.count}),(function(e){console.log(e)}))}},{key:"onPageChanged",value:function(e){var t=this.shopService.getShopParams();t.pageNumber!==e&&(t.pageNumber=e,this.shopService.setShopParams(t),this.getProducts(!0))}},{key:"deleteProduct",value:function(e){var t=this;this.adminService.deleteProduct(e).subscribe((function(n){t.products.splice(t.products.findIndex((function(t){return t.id===e})),1),t.totalCount--}))}}]),e}()).\u0275fac=function(e){return new(e||U)(o.Pb(a.a),o.Pb(b))},U.\u0275cmp=o.Jb({type:U,selectors:[["app-admin"]],decls:1,vars:1,consts:[["class","admin-page",4,"ngIf"],[1,"admin-page"],[1,"container"],[1,"row"],[1,"col-lg-12"],[1,"d-flex","justify-content-between","my-3"],[1,"h2"],[1,"btn","btn-outline-success",3,"routerLink"],[3,"totalCount","pageSize","pageNumber"],[1,"table-responsive"],[1,"table"],["scope","col"],[1,"p-2"],[1,"p-2","text-uppercase"],[1,"py-2","text-uppercase"],[1,"p-2","px-3","text-uppercase"],[4,"ngFor","ngForOf"],["class","d-flex justify-content-center",4,"ngIf"],[1,"align-middle"],[1,"img-fluid",2,"max-height","50px",3,"src","alt"],[1,"btn","btn-warning",3,"routerLink"],[1,"btn","btn-danger",3,"click"],[1,"d-flex","justify-content-center"],[3,"pageSize","pageNumber","totalCount","pageChanged"]],template:function(e,t){1&e&&o.Hc(0,m,35,7,"section",0),2&e&&o.nc("ngIf",t.products)},directives:[r.n,u.d,p.a,r.m,l.a],pipes:[r.d],styles:[""]}),U),V=function e(t){_classCallCheck(this,e),this.name="",this.description="",this.price=0,Object.assign(this,t)},P=n("cp0P"),C=n("oW1M"),k=n("3Pt+"),I=n("9nqD");function B(e,t){1&e&&(o.Vb(0,"div"),o.Jc(1," Product Name is required "),o.Ub())}function M(e,t){if(1&e&&(o.Vb(0,"div",21),o.Hc(1,B,2,0,"div",22),o.Ub()),2&e){o.hc();var n=o.xc(7);o.Bb(1),o.nc("ngIf",n.errors.required)}}function J(e,t){1&e&&(o.Vb(0,"div"),o.Jc(1," Product price is required "),o.Ub())}function w(e,t){1&e&&(o.Vb(0,"div"),o.Jc(1," Product price needs to be decimal value "),o.Ub())}function S(e,t){1&e&&(o.Vb(0,"div"),o.Jc(1," Product price must be greater than zero "),o.Ub())}function x(e,t){if(1&e&&(o.Vb(0,"div",21),o.Hc(1,J,2,0,"div",22),o.Hc(2,w,2,0,"div",22),o.Hc(3,S,2,0,"div",22),o.Ub()),2&e){o.hc();var n=o.xc(13);o.Bb(1),o.nc("ngIf",n.errors.required),o.Bb(1),o.nc("ngIf",n.errors.pattern),o.Bb(1),o.nc("ngIf",n.errors.min)}}function _(e,t){1&e&&(o.Vb(0,"div"),o.Jc(1," Product price is required "),o.Ub())}function O(e,t){if(1&e&&(o.Vb(0,"div",21),o.Hc(1,_,2,0,"div",22),o.Ub()),2&e){o.hc();var n=o.xc(21);o.Bb(1),o.nc("ngIf",n.errors.required)}}function F(e,t){if(1&e&&(o.Vb(0,"option",23),o.Jc(1),o.Ub()),2&e){var n=t.$implicit,i=o.hc();o.nc("selected",i.product.productBrandId===n.id)("ngValue",n.id),o.Bb(1),o.Kc(n.name)}}function A(e,t){if(1&e&&(o.Vb(0,"option",23),o.Jc(1),o.Ub()),2&e){var n=t.$implicit,i=o.hc();o.nc("selected",i.product.productTypeId===n.id)("ngValue",n.id),o.Bb(1),o.Kc(n.name)}}var j,H=function(e){return{"is-invalid":e}},T=((j=function(){function e(t,n,i){_classCallCheck(this,e),this.route=t,this.adminService=n,this.router=i}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"onSubmit",value:function(e){var t=this;if("edit"===this.route.snapshot.url[0].path){var n=Object.assign(Object.assign(Object.assign({},this.product),e),{price:+e.price});this.adminService.updateProduct(n,+this.route.snapshot.paramMap.get("id")).subscribe((function(e){t.router.navigate(["/admin"])}))}else{var i=Object.assign(Object.assign({},e),{price:+e.price});this.adminService.createProduct(i).subscribe((function(e){t.router.navigate(["/admin"])}))}}},{key:"updatePrice",value:function(e){this.product.price=e}}]),e}()).\u0275fac=function(e){return new(e||j)(o.Pb(u.a),o.Pb(b),o.Pb(u.c))},j.\u0275cmp=o.Jb({type:j,selectors:[["app-edit-product-form"]],inputs:{product:"product",brands:"brands",types:"types"},decls:36,vars:23,consts:[[3,"ngSubmit"],["productForm","ngForm"],[1,"form-row"],[1,"form-group","col-md-6"],["for","name"],["required","","type","text","id","name","placeholder","Product Name","name","name",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["name","ngModel"],["class","invalid-feedback",4,"ngIf"],["for","price"],["required","","type","text","id","price","placeholder","Price","currencyMask","","name","price","pattern","^\\$?([0-9]{1,3},([0-9]{3},)*[0-9]{3}|[0-9]+)(\\.[0-9][0-9])?$","min","0.01",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["price","ngModel"],[1,"form-group","col-md-12"],["for","description"],["required","","id","description","name","description","rows","3",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["description","ngModel"],["for","brand"],["id","brand","name","productBrandId","required","",1,"form-control",3,"ngModel","ngModelChange"],[3,"selected","ngValue",4,"ngFor","ngForOf"],["for","type"],["id","type","name","productTypeId","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-primary","my-3","float-right",3,"disabled"],[1,"invalid-feedback"],[4,"ngIf"],[3,"selected","ngValue"]],template:function(e,t){if(1&e){var n=o.Wb();o.Vb(0,"form",0,1),o.dc("ngSubmit",(function(e){o.Ac(n);var i=o.xc(1);return t.onSubmit(i.valid&&i.value)})),o.Vb(2,"div",2),o.Vb(3,"div",3),o.Vb(4,"label",4),o.Jc(5,"Product Name"),o.Ub(),o.Vb(6,"input",5,6),o.dc("ngModelChange",(function(e){return t.product.name=e})),o.Ub(),o.Hc(8,M,2,1,"div",7),o.Ub(),o.Vb(9,"div",3),o.Vb(10,"label",8),o.Jc(11,"Price"),o.Ub(),o.Vb(12,"input",9,10),o.dc("ngModelChange",(function(e){return t.updatePrice(e-0)})),o.ic(14,"number"),o.Ub(),o.Hc(15,x,4,3,"div",7),o.Ub(),o.Ub(),o.Vb(16,"div",2),o.Vb(17,"div",11),o.Vb(18,"label",12),o.Jc(19,"Description"),o.Ub(),o.Vb(20,"textarea",13,14),o.dc("ngModelChange",(function(e){return t.product.description=e})),o.Ub(),o.Hc(22,O,2,1,"div",7),o.Ub(),o.Ub(),o.Vb(23,"div",2),o.Vb(24,"div",3),o.Vb(25,"label",15),o.Jc(26,"Brand"),o.Ub(),o.Vb(27,"select",16),o.dc("ngModelChange",(function(e){return t.product.productBrandId=e})),o.Hc(28,F,2,3,"option",17),o.Ub(),o.Ub(),o.Vb(29,"div",3),o.Vb(30,"label",18),o.Jc(31,"Type"),o.Ub(),o.Vb(32,"select",19),o.dc("ngModelChange",(function(e){return t.product.productTypeId=e})),o.Hc(33,A,2,3,"option",17),o.Ub(),o.Ub(),o.Ub(),o.Vb(34,"button",20),o.Jc(35,"Submit"),o.Ub(),o.Ub()}if(2&e){var i=o.xc(1),r=o.xc(7),c=o.xc(13),a=o.xc(21);o.Bb(6),o.nc("ngClass",o.rc(17,H,r.invalid&&(r.dirty||r.touched)))("ngModel",t.product.name),o.Bb(2),o.nc("ngIf",r.invalid&&(r.dirty||r.touched)),o.Bb(4),o.nc("ngClass",o.rc(19,H,c.invalid&&(c.dirty||c.touched)))("ngModel",o.kc(14,14,t.product.price-0,"1.2-2")),o.Bb(3),o.nc("ngIf",c.invalid&&(c.dirty||c.touched)),o.Bb(5),o.nc("ngClass",o.rc(21,H,a.invalid&&(a.dirty||a.touched)))("ngModel",t.product.description),o.Bb(2),o.nc("ngIf",a.invalid&&(a.dirty||a.touched)),o.Bb(5),o.nc("ngModel",t.product.productBrandId),o.Bb(1),o.nc("ngForOf",t.brands),o.Bb(4),o.nc("ngModel",t.product.productTypeId),o.Bb(1),o.nc("ngForOf",t.types),o.Bb(1),o.nc("disabled",!i.valid)}},directives:[k.x,k.m,k.n,k.a,k.t,r.l,k.l,k.o,r.n,I.a,k.q,k.u,r.m,k.p,k.w],pipes:[r.g],styles:[""]}),j),N=n("5eHb"),q=n("rIor"),z=n("kvL/");function E(e,t){if(1&e){var n=o.Wb();o.Tb(0),o.Qb(1,"img",7),o.Vb(2,"button",8),o.dc("click",(function(e){return o.Ac(n),o.hc().onUpload()})),o.Jc(3,"Upload Image"),o.Ub(),o.Sb()}if(2&e){var i=o.hc();o.Bb(1),o.nc("src",i.croppedImage,o.Cc)}}var W,L=((W=function(){function e(){_classCallCheck(this,e),this.addFile=new o.n,this.files=[],this.imageChangedEvent="",this.croppedImage=""}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"fileChangeEvent",value:function(e){this.imageChangedEvent=e}},{key:"imageCropped",value:function(e){this.croppedImage=e.base64}},{key:"onSelect",value:function(e){var t;this.files=[],(t=this.files).push.apply(t,_toConsumableArray(e.addedFiles)),this.fileChangeEvent(this.files[0])}},{key:"onUpload",value:function(){console.log(Object(q.c)(this.croppedImage)),this.addFile.emit(Object(q.c)(this.croppedImage))}}]),e}()).\u0275fac=function(e){return new(e||W)},W.\u0275cmp=o.Jb({type:W,selectors:[["app-photo-widget"]],outputs:{addFile:"addFile"},decls:17,vars:5,consts:[[1,"row"],[1,"col-4"],["ngx-dropzone","",1,"custom-dropzone",3,"change"],[1,"fa","fa-upload","fa-4x"],[1,"col-4","img-preview"],["format","png",1,"img-fluid",3,"imageChangedEvent","imageFile","maintainAspectRatio","aspectRatio","imageCropped"],[4,"ngIf"],[1,"img-fluid",3,"src"],[1,"btn-block","btn-primary",3,"click"]],template:function(e,t){1&e&&(o.Vb(0,"div",0),o.Vb(1,"div",1),o.Vb(2,"h3"),o.Jc(3,"Step 1 - Add Photo"),o.Ub(),o.Vb(4,"div",2),o.dc("change",(function(e){return t.onSelect(e)})),o.Vb(5,"ngx-dropzone-label"),o.Qb(6,"i",3),o.Vb(7,"h4"),o.Jc(8,"Drop image here"),o.Ub(),o.Ub(),o.Ub(),o.Ub(),o.Vb(9,"div",4),o.Vb(10,"h3"),o.Jc(11,"Step 2 - Resize image"),o.Ub(),o.Vb(12,"image-cropper",5),o.dc("imageCropped",(function(e){return t.imageCropped(e)})),o.Ub(),o.Ub(),o.Vb(13,"div",1),o.Vb(14,"h3"),o.Jc(15,"Step 3 - Preview & Upload"),o.Ub(),o.Hc(16,E,4,1,"ng-container",6),o.Ub(),o.Ub()),2&e&&(o.Bb(12),o.nc("imageChangedEvent",t.imageChangedEvent)("imageFile",t.files[0])("maintainAspectRatio",!0)("aspectRatio",1),o.Bb(4),o.nc("ngIf",t.croppedImage))},directives:[z.a,z.c,q.a,r.n],styles:[".custom-dropzone[_ngcontent-%COMP%]{border:3px dashed #eee;border-radius:5px;padding-top:30px;text-align:center;height:200px}.custom-dropzone.ngx-dz-hovered[_ngcontent-%COMP%]{border:3px solid green}"]}),W);function $(e,t){if(1&e){var n=o.Wb();o.Vb(0,"div",7),o.Vb(1,"div",8),o.Qb(2,"img",9),o.Vb(3,"div",10),o.Vb(4,"button",11),o.dc("click",(function(e){o.Ac(n);var i=t.$implicit;return o.hc(2).setMainPhoto(i.id)})),o.Jc(5,"Set Main "),o.Ub(),o.Vb(6,"button",12),o.dc("click",(function(e){o.Ac(n);var i=t.$implicit;return o.hc(2).deletePhoto(i.id)})),o.Qb(7,"i",13),o.Jc(8,"\xa0\xa0\xa0\xa0\xa0\xa0 "),o.Ub(),o.Ub(),o.Ub(),o.Ub()}if(2&e){var i=t.$implicit;o.Bb(2),o.oc("src",i.pictureUrl,o.Cc),o.oc("alt",i.fileName),o.Bb(2),o.Db(i.isMain?"btn btn-success":"btn btn-outline-success"),o.nc("disabled",i.isMain),o.Bb(2),o.nc("disabled",i.isMain)}}function D(e,t){if(1&e){var n=o.Wb();o.Tb(0),o.Vb(1,"div",3),o.Vb(2,"h3"),o.Jc(3,"Product Photos"),o.Ub(),o.Vb(4,"button",4),o.dc("click",(function(e){return o.Ac(n),o.hc().addPhotoModeToggle()})),o.Jc(5," Add New Photo "),o.Ub(),o.Ub(),o.Vb(6,"div",5),o.Hc(7,$,9,7,"div",6),o.Ub(),o.Sb()}if(2&e){var i=o.hc();o.Bb(7),o.nc("ngForOf",null==i.product?null:i.product.photos)}}function Q(e,t){if(1&e&&(o.Vb(0,"div",18),o.Jc(1,"\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0"),o.Vb(2,"div",19),o.Jc(3),o.Ub(),o.Jc(4,"\n\xa0\xa0\xa0\xa0\xa0\xa0"),o.Ub()),2&e){var n=o.hc(2);o.Bb(2),o.Gc("width",n.progress,"%"),o.Bb(1),o.Lc("\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",n.progress,"%\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0")}}function R(e,t){if(1&e){var n=o.Wb();o.Tb(0),o.Vb(1,"div",3),o.Vb(2,"h3",14),o.Jc(3,"Add new product image"),o.Ub(),o.Vb(4,"button",15),o.dc("click",(function(e){return o.Ac(n),o.hc().addPhotoModeToggle()})),o.Jc(5,"Cancel"),o.Ub(),o.Ub(),o.Jc(6,"\n\xa0\xa0\xa0\xa0\xa0\xa0"),o.Hc(7,Q,5,3,"div",16),o.Vb(8,"app-photo-widget",17),o.dc("addFile",(function(e){return o.Ac(n),o.hc().uploadFile(e)})),o.Ub(),o.Sb()}if(2&e){var i=o.hc();o.Bb(7),o.nc("ngIf",i.progress>0)}}var K,G,X,Z=((G=function(){function e(t,n){_classCallCheck(this,e),this.adminService=t,this.toast=n,this.progress=0,this.addPhotoMode=!1}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"addPhotoModeToggle",value:function(){this.addPhotoMode=!this.addPhotoMode}},{key:"uploadFile",value:function(e){var t=this;this.adminService.uploadImage(e,this.product.id).subscribe((function(e){switch(e.type){case s.d.UploadProgress:t.progress=Math.round(e.loaded/e.total*100);break;case s.d.Response:t.product=e.body,setTimeout((function(){t.progress=0,t.addPhotoMode=!1}),1500)}}),(function(e){t.toast.error(e.errors?e.errors[0]:"Problem uploading image"),t.progress=0}))}},{key:"deletePhoto",value:function(e){var t=this;this.adminService.deleteProductPhoto(e,this.product.id).subscribe((function(){var n=t.product.photos.findIndex((function(t){return t.id===e}));t.product.photos.splice(n,1)}),(function(e){t.toast.error("Problem deleting photo"),console.log(e)}))}},{key:"setMainPhoto",value:function(e){var t=this;this.adminService.setMainPhoto(e,this.product.id).subscribe((function(e){t.product=e}))}}]),e}()).\u0275fac=function(e){return new(e||G)(o.Pb(b),o.Pb(N.b))},G.\u0275cmp=o.Jb({type:G,selectors:[["app-edit-product-photos"]],inputs:{product:"product"},decls:4,vars:2,consts:[[1,"py-5"],[1,"container"],[4,"ngIf"],[1,"d-flex","justify-content-between","mb-3"],[1,"btn","btn-primary",3,"click"],[1,"row"],["class","col-3",4,"ngFor","ngForOf"],[1,"col-3"],[1,"card"],["width","100%","height","225",1,"card-img-top",3,"src","alt"],[1,"btn-group",2,"width","100%"],["type","button",2,"width","50%",3,"disabled","click"],["type","button",1,"btn","btn-outline-danger",2,"width","50%",3,"disabled","click"],[1,"fa","fa-trash"],[1,"text-primary"],[1,"btn","btn-outline-secondary",3,"click"],["class","progress form-group",4,"ngIf"],[3,"addFile"],[1,"progress","form-group"],["role","progressbar",1,"progress-bar","progress-bar-striped","bg-success"]],template:function(e,t){1&e&&(o.Vb(0,"div",0),o.Vb(1,"div",1),o.Hc(2,D,8,1,"ng-container",2),o.Hc(3,R,9,1,"ng-container",2),o.Ub(),o.Ub()),2&e&&(o.Bb(2),o.nc("ngIf",!t.addPhotoMode),o.Bb(1),o.nc("ngIf",t.addPhotoMode))},directives:[r.n,r.m,L],styles:[""]}),G),Y=((K=function(){function e(t,n,i,r){_classCallCheck(this,e),this.adminService=t,this.shopService=n,this.route=i,this.router=r,this.productFormValues=new V}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this,t=this.getBrands(),n=this.getTypes();Object(P.a)([n,t]).subscribe((function(t){e.types=t[0],e.brands=t[1]}),(function(e){console.log(e)}),(function(){"edit"===e.route.snapshot.url[0].path&&e.loadProduct()}))}},{key:"loadProduct",value:function(){var e=this;this.shopService.getProduct(+this.route.snapshot.paramMap.get("id")).subscribe((function(t){var n=e.brands&&e.brands.find((function(e){return e.name===t.productBrand})).id,i=e.types&&e.types.find((function(e){return e.name===t.productType})).id;e.product=t,e.productFormValues=Object.assign(Object.assign({},t),{productBrandId:n,productTypeId:i})}))}},{key:"getBrands",value:function(){return this.shopService.getBrands()}},{key:"getTypes",value:function(){return this.shopService.getTypes()}}]),e}()).\u0275fac=function(e){return new(e||K)(o.Pb(b),o.Pb(a.a),o.Pb(u.a),o.Pb(u.c))},K.\u0275cmp=o.Jb({type:K,selectors:[["app-edit-product"]],decls:11,vars:4,consts:[[1,"product-edit","mt-5"],[1,"container"],[1,"row"],[1,"col-12"],[1,"tab-panel"],[1,"product-tabset"],["heading","Edit Product"],[1,"col-lg-8"],[3,"product","brands","types"],["heading","Edit Photos"],[3,"product"]],template:function(e,t){1&e&&(o.Vb(0,"section",0),o.Vb(1,"div",1),o.Vb(2,"div",2),o.Vb(3,"div",3),o.Vb(4,"div",4),o.Vb(5,"tabset",5),o.Vb(6,"tab",6),o.Vb(7,"div",7),o.Qb(8,"app-edit-product-form",8),o.Ub(),o.Ub(),o.Vb(9,"tab",9),o.Qb(10,"app-edit-product-photos",10),o.Ub(),o.Ub(),o.Ub(),o.Ub(),o.Ub(),o.Ub(),o.Ub()),2&e&&(o.Bb(8),o.nc("product",t.productFormValues)("brands",t.brands)("types",t.types),o.Bb(2),o.nc("product",t.product))},directives:[C.l,C.j,T,Z],styles:[""]}),K),ee=[{path:"",component:y},{path:"create",component:Y,data:{breadcrumb:"Create"}},{path:"edit/:id",component:Y,data:{breadcrumb:"Edit"}}],te=((X=function e(){_classCallCheck(this,e)}).\u0275mod=o.Nb({type:X}),X.\u0275inj=o.Mb({factory:function(e){return new(e||X)},imports:[[u.g.forChild(ee)],u.g]}),X);n.d(t,"AdminModule",(function(){return ie}));var ne,ie=((ne=function e(){_classCallCheck(this,e)}).\u0275mod=o.Nb({type:ne}),ne.\u0275inj=o.Mb({factory:function(e){return new(e||ne)},imports:[[r.c,c.a,te]]}),ne)}}]);