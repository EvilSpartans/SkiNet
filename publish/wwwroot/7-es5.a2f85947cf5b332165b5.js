!function(){function t(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,n){if(!t)return;if("string"==typeof t)return e(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return e(t,n)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{jkDv:function(e,i,o){"use strict";o.r(i),o.d(i,"AdminModule",function(){return ct});var c,a=o("ofXK"),d=o("PCNd"),b=o("fXoL"),u=o("mwRl"),s=o("AytR"),p=o("tk/3"),l=((c=function(){function t(e){n(this,t),this.http=e,this.baseUrl=s.a.apiUrl}return r(t,[{key:"createProduct",value:function(t){return this.http.post(this.baseUrl+"products",t)}},{key:"updateProduct",value:function(t,e){return this.http.put(this.baseUrl+"products/"+e,t)}},{key:"deleteProduct",value:function(t){return this.http.delete(this.baseUrl+"products/"+t)}},{key:"uploadImage",value:function(t,e){var n=new FormData;return n.append("photo",t,"image.png"),this.http.put(this.baseUrl+"products/"+e+"/photo",n,{reportProgress:!0,observe:"events"})}},{key:"deleteProductPhoto",value:function(t,e){return this.http.delete(this.baseUrl+"products/"+e+"/photo/"+t)}},{key:"setMainPhoto",value:function(t,e){return this.http.post(this.baseUrl+"products/"+e+"/photo/"+t,{})}}]),t}()).\u0275fac=function(t){return new(t||c)(b.Yb(p.b))},c.\u0275prov=b.Kb({token:c,factory:c.\u0275fac,providedIn:"root"}),c),f=o("tyNb"),g=o("/gyc"),h=o("a4eG"),v=function(t){return["edit",t]};function m(t,e){if(1&t){var n=b.Vb();b.Ub(0,"tr"),b.Ub(1,"td",18),b.Hc(2),b.Tb(),b.Ub(3,"td"),b.Ub(4,"div",12),b.Pb(5,"img",19),b.Tb(),b.Tb(),b.Ub(6,"th",18),b.Ub(7,"h5"),b.Hc(8),b.Tb(),b.Tb(),b.Ub(9,"td",18),b.Hc(10),b.gc(11,"currency"),b.Tb(),b.Ub(12,"td",18),b.Ub(13,"button",20),b.Hc(14,"Edit"),b.Tb(),b.Tb(),b.Ub(15,"td",18),b.Ub(16,"button",21),b.bc("click",function(){b.yc(n);var t=e.$implicit;return b.fc(2).deleteProduct(t.id)}),b.Hc(17,"Delete"),b.Tb(),b.Tb(),b.Tb()}if(2&t){var i=e.$implicit;b.Bb(2),b.Ic(i.id),b.Bb(3),b.mc("src",i.pictureUrl||"/assets/images/placeholder.png",b.Ac),b.mc("alt",i.name),b.Bb(3),b.Ic(i.name),b.Bb(2),b.Ic(b.hc(11,6,i.price)),b.Bb(3),b.lc("routerLink",b.pc(8,v,i.id))}}function y(t,e){if(1&t){var n=b.Vb();b.Ub(0,"div",22),b.Ub(1,"app-pager",23),b.bc("pageChanged",function(t){return b.yc(n),b.fc(2).onPageChanged(t)}),b.Tb(),b.Tb()}if(2&t){var i=b.fc(2);b.Bb(1),b.lc("pageSize",i.shopParams.pageSize)("pageNumber",i.shopParams.pageNumber)("totalCount",i.totalCount)}}var T=function(){return["/admin/create"]};function U(t,e){if(1&t&&(b.Ub(0,"section",1),b.Ub(1,"div",2),b.Ub(2,"div",3),b.Ub(3,"div",4),b.Ub(4,"div",5),b.Ub(5,"header",6),b.Hc(6,"Product List"),b.Tb(),b.Ub(7,"button",7),b.Hc(8,"Create new product"),b.Tb(),b.Tb(),b.Pb(9,"app-paging-header",8),b.Ub(10,"div",9),b.Ub(11,"table",10),b.Ub(12,"thead"),b.Ub(13,"tr"),b.Ub(14,"th",11),b.Ub(15,"div",12),b.Hc(16,"Id"),b.Tb(),b.Tb(),b.Ub(17,"th",11),b.Ub(18,"div",13),b.Hc(19,"Product"),b.Tb(),b.Tb(),b.Ub(20,"th",11),b.Ub(21,"div",14),b.Hc(22,"Name"),b.Tb(),b.Tb(),b.Ub(23,"th",11),b.Ub(24,"div",15),b.Hc(25,"Price"),b.Tb(),b.Tb(),b.Ub(26,"th",11),b.Ub(27,"div",15),b.Hc(28,"Edit"),b.Tb(),b.Tb(),b.Ub(29,"th",11),b.Ub(30,"div",15),b.Hc(31,"Delete"),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Ub(32,"tbody"),b.Fc(33,m,18,10,"tr",16),b.Tb(),b.Tb(),b.Tb(),b.Fc(34,y,2,3,"div",17),b.Tb(),b.Tb(),b.Tb(),b.Tb()),2&t){var n=b.fc();b.Bb(7),b.lc("routerLink",b.oc(6,T)),b.Bb(2),b.lc("totalCount",n.totalCount)("pageSize",n.shopParams.pageSize)("pageNumber",n.shopParams.pageNumber),b.Bb(24),b.lc("ngForOf",n.products),b.Bb(1),b.lc("ngIf",n.totalCount>0)}}var P,I=((P=function(){function t(e,i){n(this,t),this.shopService=e,this.adminService=i,this.shopParams=this.shopService.getShopParams()}return r(t,[{key:"ngOnInit",value:function(){this.getProducts()}},{key:"getProducts",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.shopService.getProducts(e).subscribe(function(e){t.products=e.data,t.totalCount=e.count},function(t){console.log(t)})}},{key:"onPageChanged",value:function(t){var e=this.shopService.getShopParams();e.pageNumber!==t&&(e.pageNumber=t,this.shopService.setShopParams(e),this.getProducts(!0))}},{key:"deleteProduct",value:function(t){var e=this;this.adminService.deleteProduct(t).subscribe(function(n){e.products.splice(e.products.findIndex(function(e){return e.id===t}),1),e.totalCount--})}}]),t}()).\u0275fac=function(t){return new(t||P)(b.Ob(u.a),b.Ob(l))},P.\u0275cmp=b.Ib({type:P,selectors:[["app-admin"]],decls:1,vars:1,consts:[["class","admin-page",4,"ngIf"],[1,"admin-page"],[1,"container"],[1,"row"],[1,"col-lg-12"],[1,"d-flex","justify-content-between","my-3"],[1,"h2"],[1,"btn","btn-outline-success",3,"routerLink"],[3,"totalCount","pageSize","pageNumber"],[1,"table-responsive"],[1,"table"],["scope","col"],[1,"p-2"],[1,"p-2","text-uppercase"],[1,"py-2","text-uppercase"],[1,"p-2","px-3","text-uppercase"],[4,"ngFor","ngForOf"],["class","d-flex justify-content-center",4,"ngIf"],[1,"align-middle"],[1,"img-fluid",2,"max-height","50px",3,"src","alt"],[1,"btn","btn-warning",3,"routerLink"],[1,"btn","btn-danger",3,"click"],[1,"d-flex","justify-content-center"],[3,"pageSize","pageNumber","totalCount","pageChanged"]],template:function(t,e){1&t&&b.Fc(0,U,35,7,"section",0),2&t&&b.lc("ngIf",e.products)},directives:[a.n,f.d,g.a,a.m,h.a],pipes:[a.d],styles:[""]}),P),k=function t(e){n(this,t),this.name="",this.description="",this.price=0,Object.assign(this,e)},B=o("cp0P"),M=o("44PX"),C=o("3Pt+"),w=o("9nqD");function S(t,e){1&t&&(b.Ub(0,"div"),b.Hc(1," Product Name is required "),b.Tb())}function F(t,e){if(1&t&&(b.Ub(0,"div",21),b.Fc(1,S,2,0,"div",22),b.Tb()),2&t){b.fc();var n=b.vc(7);b.Bb(1),b.lc("ngIf",n.errors.required)}}function H(t,e){1&t&&(b.Ub(0,"div"),b.Hc(1," Product price is required "),b.Tb())}function O(t,e){1&t&&(b.Ub(0,"div"),b.Hc(1," Product price needs to be decimal value "),b.Tb())}function x(t,e){1&t&&(b.Ub(0,"div"),b.Hc(1," Product price must be greater than zero "),b.Tb())}function j(t,e){if(1&t&&(b.Ub(0,"div",21),b.Fc(1,H,2,0,"div",22),b.Fc(2,O,2,0,"div",22),b.Fc(3,x,2,0,"div",22),b.Tb()),2&t){b.fc();var n=b.vc(13);b.Bb(1),b.lc("ngIf",n.errors.required),b.Bb(1),b.lc("ngIf",n.errors.pattern),b.Bb(1),b.lc("ngIf",n.errors.min)}}function A(t,e){1&t&&(b.Ub(0,"div"),b.Hc(1," Product price is required "),b.Tb())}function N(t,e){if(1&t&&(b.Ub(0,"div",21),b.Fc(1,A,2,0,"div",22),b.Tb()),2&t){b.fc();var n=b.vc(21);b.Bb(1),b.lc("ngIf",n.errors.required)}}function z(t,e){if(1&t&&(b.Ub(0,"option",23),b.Hc(1),b.Tb()),2&t){var n=e.$implicit,i=b.fc();b.lc("selected",i.product.productBrandId===n.id)("ngValue",n.id),b.Bb(1),b.Ic(n.name)}}function E(t,e){if(1&t&&(b.Ub(0,"option",23),b.Hc(1),b.Tb()),2&t){var n=e.$implicit,i=b.fc();b.lc("selected",i.product.productTypeId===n.id)("ngValue",n.id),b.Bb(1),b.Ic(n.name)}}var V,q=function(t){return{"is-invalid":t}},R=((V=function(){function t(e,i,r){n(this,t),this.route=e,this.adminService=i,this.router=r}return r(t,[{key:"ngOnInit",value:function(){}},{key:"onSubmit",value:function(t){var e=this;if("edit"===this.route.snapshot.url[0].path){var n=Object.assign(Object.assign(Object.assign({},this.product),t),{price:+t.price});this.adminService.updateProduct(n,+this.route.snapshot.paramMap.get("id")).subscribe(function(t){e.router.navigate(["/admin"])})}else{var i=Object.assign(Object.assign({},t),{price:+t.price});this.adminService.createProduct(i).subscribe(function(t){e.router.navigate(["/admin"])})}}},{key:"updatePrice",value:function(t){this.product.price=t}}]),t}()).\u0275fac=function(t){return new(t||V)(b.Ob(f.a),b.Ob(l),b.Ob(f.c))},V.\u0275cmp=b.Ib({type:V,selectors:[["app-edit-product-form"]],inputs:{product:"product",brands:"brands",types:"types"},decls:36,vars:23,consts:[[3,"ngSubmit"],["productForm","ngForm"],[1,"form-row"],[1,"form-group","col-md-6"],["for","name"],["required","","type","text","id","name","placeholder","Product Name","name","name",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["name","ngModel"],["class","invalid-feedback",4,"ngIf"],["for","price"],["required","","type","text","id","price","placeholder","Price","currencyMask","","name","price","pattern","^\\$?([0-9]{1,3},([0-9]{3},)*[0-9]{3}|[0-9]+)(\\.[0-9][0-9])?$","min","0.01",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["price","ngModel"],[1,"form-group","col-md-12"],["for","description"],["required","","id","description","name","description","rows","3",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["description","ngModel"],["for","brand"],["id","brand","name","productBrandId","required","",1,"form-control",3,"ngModel","ngModelChange"],[3,"selected","ngValue",4,"ngFor","ngForOf"],["for","type"],["id","type","name","productTypeId","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-primary","my-3","float-right",3,"disabled"],[1,"invalid-feedback"],[4,"ngIf"],[3,"selected","ngValue"]],template:function(t,e){if(1&t){var n=b.Vb();b.Ub(0,"form",0,1),b.bc("ngSubmit",function(){b.yc(n);var t=b.vc(1);return e.onSubmit(t.valid&&t.value)}),b.Ub(2,"div",2),b.Ub(3,"div",3),b.Ub(4,"label",4),b.Hc(5,"Product Name"),b.Tb(),b.Ub(6,"input",5,6),b.bc("ngModelChange",function(t){return e.product.name=t}),b.Tb(),b.Fc(8,F,2,1,"div",7),b.Tb(),b.Ub(9,"div",3),b.Ub(10,"label",8),b.Hc(11,"Price"),b.Tb(),b.Ub(12,"input",9,10),b.bc("ngModelChange",function(t){return e.updatePrice(+t)}),b.gc(14,"number"),b.Tb(),b.Fc(15,j,4,3,"div",7),b.Tb(),b.Tb(),b.Ub(16,"div",2),b.Ub(17,"div",11),b.Ub(18,"label",12),b.Hc(19,"Description"),b.Tb(),b.Ub(20,"textarea",13,14),b.bc("ngModelChange",function(t){return e.product.description=t}),b.Tb(),b.Fc(22,N,2,1,"div",7),b.Tb(),b.Tb(),b.Ub(23,"div",2),b.Ub(24,"div",3),b.Ub(25,"label",15),b.Hc(26,"Brand"),b.Tb(),b.Ub(27,"select",16),b.bc("ngModelChange",function(t){return e.product.productBrandId=t}),b.Fc(28,z,2,3,"option",17),b.Tb(),b.Tb(),b.Ub(29,"div",3),b.Ub(30,"label",18),b.Hc(31,"Type"),b.Tb(),b.Ub(32,"select",19),b.bc("ngModelChange",function(t){return e.product.productTypeId=t}),b.Fc(33,E,2,3,"option",17),b.Tb(),b.Tb(),b.Tb(),b.Ub(34,"button",20),b.Hc(35,"Submit"),b.Tb(),b.Tb()}if(2&t){var i=b.vc(1),r=b.vc(7),o=b.vc(13),c=b.vc(21);b.Bb(6),b.lc("ngClass",b.pc(17,q,r.invalid&&(r.dirty||r.touched)))("ngModel",e.product.name),b.Bb(2),b.lc("ngIf",r.invalid&&(r.dirty||r.touched)),b.Bb(4),b.lc("ngClass",b.pc(19,q,o.invalid&&(o.dirty||o.touched)))("ngModel",b.ic(14,14,+e.product.price,"1.2-2")),b.Bb(3),b.lc("ngIf",o.invalid&&(o.dirty||o.touched)),b.Bb(5),b.lc("ngClass",b.pc(21,q,c.invalid&&(c.dirty||c.touched)))("ngModel",e.product.description),b.Bb(2),b.lc("ngIf",c.invalid&&(c.dirty||c.touched)),b.Bb(5),b.lc("ngModel",e.product.productBrandId),b.Bb(1),b.lc("ngForOf",e.brands),b.Bb(4),b.lc("ngModel",e.product.productTypeId),b.Bb(1),b.lc("ngForOf",e.types),b.Bb(1),b.lc("disabled",!i.valid)}},directives:[C.w,C.m,C.n,C.a,C.t,a.l,C.l,C.o,a.n,w.a,C.q,C.u,a.m,C.p,C.x],pipes:[a.g],styles:[""]}),V),$=o("5eHb"),D=o("rIor"),L=o("kvL/");function J(t,e){if(1&t){var n=b.Vb();b.Sb(0),b.Pb(1,"img",7),b.Ub(2,"button",8),b.bc("click",function(){return b.yc(n),b.fc().onUpload()}),b.Hc(3,"Upload Image"),b.Tb(),b.Rb()}if(2&t){var i=b.fc();b.Bb(1),b.lc("src",i.croppedImage,b.Ac)}}var X,K=((X=function(){function e(){n(this,e),this.addFile=new b.n,this.files=[],this.imageChangedEvent="",this.croppedImage=""}return r(e,[{key:"ngOnInit",value:function(){}},{key:"fileChangeEvent",value:function(t){this.imageChangedEvent=t}},{key:"imageCropped",value:function(t){this.croppedImage=t.base64}},{key:"onSelect",value:function(e){var n;this.files=[],(n=this.files).push.apply(n,t(e.addedFiles)),this.fileChangeEvent(this.files[0])}},{key:"onUpload",value:function(){console.log(Object(D.c)(this.croppedImage)),this.addFile.emit(Object(D.c)(this.croppedImage))}}]),e}()).\u0275fac=function(t){return new(t||X)},X.\u0275cmp=b.Ib({type:X,selectors:[["app-photo-widget"]],outputs:{addFile:"addFile"},decls:17,vars:5,consts:[[1,"row"],[1,"col-4"],["ngx-dropzone","",1,"custom-dropzone",3,"change"],[1,"fa","fa-upload","fa-4x"],[1,"col-4","img-preview"],["format","png",1,"img-fluid",3,"imageChangedEvent","imageFile","maintainAspectRatio","aspectRatio","imageCropped"],[4,"ngIf"],[1,"img-fluid",3,"src"],[1,"btn-block","btn-primary",3,"click"]],template:function(t,e){1&t&&(b.Ub(0,"div",0),b.Ub(1,"div",1),b.Ub(2,"h3"),b.Hc(3,"Step 1 - Add Photo"),b.Tb(),b.Ub(4,"div",2),b.bc("change",function(t){return e.onSelect(t)}),b.Ub(5,"ngx-dropzone-label"),b.Pb(6,"i",3),b.Ub(7,"h4"),b.Hc(8,"Drop image here"),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Ub(9,"div",4),b.Ub(10,"h3"),b.Hc(11,"Step 2 - Resize image"),b.Tb(),b.Ub(12,"image-cropper",5),b.bc("imageCropped",function(t){return e.imageCropped(t)}),b.Tb(),b.Tb(),b.Ub(13,"div",1),b.Ub(14,"h3"),b.Hc(15,"Step 3 - Preview & Upload"),b.Tb(),b.Fc(16,J,4,1,"ng-container",6),b.Tb(),b.Tb()),2&t&&(b.Bb(12),b.lc("imageChangedEvent",e.imageChangedEvent)("imageFile",e.files[0])("maintainAspectRatio",!0)("aspectRatio",1),b.Bb(4),b.lc("ngIf",e.croppedImage))},directives:[L.a,L.c,D.a,a.n],styles:[".custom-dropzone[_ngcontent-%COMP%]{border:3px dashed #eee;border-radius:5px;padding-top:30px;text-align:center;height:200px}.custom-dropzone.ngx-dz-hovered[_ngcontent-%COMP%]{border:3px solid green}"]}),X);function _(t,e){if(1&t){var n=b.Vb();b.Ub(0,"div",7),b.Ub(1,"div",8),b.Pb(2,"img",9),b.Ub(3,"div",10),b.Ub(4,"button",11),b.bc("click",function(){b.yc(n);var t=e.$implicit;return b.fc(2).setMainPhoto(t.id)}),b.Hc(5,"Set Main "),b.Tb(),b.Ub(6,"button",12),b.bc("click",function(){b.yc(n);var t=e.$implicit;return b.fc(2).deletePhoto(t.id)}),b.Pb(7,"i",13),b.Hc(8,"\xa0\xa0\xa0\xa0\xa0\xa0 "),b.Tb(),b.Tb(),b.Tb(),b.Tb()}if(2&t){var i=e.$implicit;b.Bb(2),b.mc("src",i.pictureUrl,b.Ac),b.mc("alt",i.fileName),b.Bb(2),b.Db(i.isMain?"btn btn-success":"btn btn-outline-success"),b.lc("disabled",i.isMain),b.Bb(2),b.lc("disabled",i.isMain)}}function G(t,e){if(1&t){var n=b.Vb();b.Sb(0),b.Ub(1,"div",3),b.Ub(2,"h3"),b.Hc(3,"Product Photos"),b.Tb(),b.Ub(4,"button",4),b.bc("click",function(){return b.yc(n),b.fc().addPhotoModeToggle()}),b.Hc(5," Add New Photo "),b.Tb(),b.Tb(),b.Ub(6,"div",5),b.Fc(7,_,9,7,"div",6),b.Tb(),b.Rb()}if(2&t){var i=b.fc();b.Bb(7),b.lc("ngForOf",null==i.product?null:i.product.photos)}}function Y(t,e){if(1&t&&(b.Ub(0,"div",18),b.Hc(1,"\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0"),b.Ub(2,"div",19),b.Hc(3),b.Tb(),b.Hc(4,"\n\xa0\xa0\xa0\xa0\xa0\xa0"),b.Tb()),2&t){var n=b.fc(2);b.Bb(2),b.Dc("width",n.progress,"%"),b.Bb(1),b.Jc("\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",n.progress,"%\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0")}}function Q(t,e){if(1&t){var n=b.Vb();b.Sb(0),b.Ub(1,"div",3),b.Ub(2,"h3",14),b.Hc(3,"Add new product image"),b.Tb(),b.Ub(4,"button",15),b.bc("click",function(){return b.yc(n),b.fc().addPhotoModeToggle()}),b.Hc(5,"Cancel"),b.Tb(),b.Tb(),b.Hc(6,"\n\xa0\xa0\xa0\xa0\xa0\xa0"),b.Fc(7,Y,5,3,"div",16),b.Ub(8,"app-photo-widget",17),b.bc("addFile",function(t){return b.yc(n),b.fc().uploadFile(t)}),b.Tb(),b.Rb()}if(2&t){var i=b.fc();b.Bb(7),b.lc("ngIf",i.progress>0)}}var W,Z,tt,et,nt=((Z=function(){function t(e,i){n(this,t),this.adminService=e,this.toast=i,this.progress=0,this.addPhotoMode=!1}return r(t,[{key:"ngOnInit",value:function(){}},{key:"addPhotoModeToggle",value:function(){this.addPhotoMode=!this.addPhotoMode}},{key:"uploadFile",value:function(t){var e=this;this.adminService.uploadImage(t,this.product.id).subscribe(function(t){switch(t.type){case p.d.UploadProgress:e.progress=Math.round(t.loaded/t.total*100);break;case p.d.Response:e.product=t.body,setTimeout(function(){e.progress=0,e.addPhotoMode=!1},1500)}},function(t){e.toast.error(t.errors?t.errors[0]:"Problem uploading image"),e.progress=0})}},{key:"deletePhoto",value:function(t){var e=this;this.adminService.deleteProductPhoto(t,this.product.id).subscribe(function(){var n=e.product.photos.findIndex(function(e){return e.id===t});e.product.photos.splice(n,1)},function(t){e.toast.error("Problem deleting photo"),console.log(t)})}},{key:"setMainPhoto",value:function(t){var e=this;this.adminService.setMainPhoto(t,this.product.id).subscribe(function(t){e.product=t})}}]),t}()).\u0275fac=function(t){return new(t||Z)(b.Ob(l),b.Ob($.b))},Z.\u0275cmp=b.Ib({type:Z,selectors:[["app-edit-product-photos"]],inputs:{product:"product"},decls:4,vars:2,consts:[[1,"py-5"],[1,"container"],[4,"ngIf"],[1,"d-flex","justify-content-between","mb-3"],[1,"btn","btn-primary",3,"click"],[1,"row"],["class","col-3",4,"ngFor","ngForOf"],[1,"col-3"],[1,"card"],["width","100%","height","225",1,"card-img-top",3,"src","alt"],[1,"btn-group",2,"width","100%"],["type","button",2,"width","50%",3,"disabled","click"],["type","button",1,"btn","btn-outline-danger",2,"width","50%",3,"disabled","click"],[1,"fa","fa-trash"],[1,"text-primary"],[1,"btn","btn-outline-secondary",3,"click"],["class","progress form-group",4,"ngIf"],[3,"addFile"],[1,"progress","form-group"],["role","progressbar",1,"progress-bar","progress-bar-striped","bg-success"]],template:function(t,e){1&t&&(b.Ub(0,"div",0),b.Ub(1,"div",1),b.Fc(2,G,8,1,"ng-container",2),b.Fc(3,Q,9,1,"ng-container",2),b.Tb(),b.Tb()),2&t&&(b.Bb(2),b.lc("ngIf",!e.addPhotoMode),b.Bb(1),b.lc("ngIf",e.addPhotoMode))},directives:[a.n,a.m,K],styles:[""]}),Z),it=((W=function(){function t(e,i,r,o){n(this,t),this.adminService=e,this.shopService=i,this.route=r,this.router=o,this.productFormValues=new k}return r(t,[{key:"ngOnInit",value:function(){var t=this,e=this.getBrands(),n=this.getTypes();Object(B.a)([n,e]).subscribe(function(e){t.types=e[0],t.brands=e[1]},function(t){console.log(t)},function(){"edit"===t.route.snapshot.url[0].path&&t.loadProduct()})}},{key:"loadProduct",value:function(){var t=this;this.shopService.getProduct(+this.route.snapshot.paramMap.get("id")).subscribe(function(e){var n=t.brands&&t.brands.find(function(t){return t.name===e.productBrand}).id,i=t.types&&t.types.find(function(t){return t.name===e.productType}).id;t.product=e,t.productFormValues=Object.assign(Object.assign({},e),{productBrandId:n,productTypeId:i})})}},{key:"getBrands",value:function(){return this.shopService.getBrands()}},{key:"getTypes",value:function(){return this.shopService.getTypes()}}]),t}()).\u0275fac=function(t){return new(t||W)(b.Ob(l),b.Ob(u.a),b.Ob(f.a),b.Ob(f.c))},W.\u0275cmp=b.Ib({type:W,selectors:[["app-edit-product"]],decls:11,vars:4,consts:[[1,"product-edit","mt-5"],[1,"container"],[1,"row"],[1,"col-12"],[1,"tab-panel"],[1,"product-tabset"],["heading","Edit Product"],[1,"col-lg-8"],[3,"product","brands","types"],["heading","Edit Photos"],[3,"product"]],template:function(t,e){1&t&&(b.Ub(0,"section",0),b.Ub(1,"div",1),b.Ub(2,"div",2),b.Ub(3,"div",3),b.Ub(4,"div",4),b.Ub(5,"tabset",5),b.Ub(6,"tab",6),b.Ub(7,"div",7),b.Pb(8,"app-edit-product-form",8),b.Tb(),b.Tb(),b.Ub(9,"tab",9),b.Pb(10,"app-edit-product-photos",10),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb()),2&t&&(b.Bb(8),b.lc("product",e.productFormValues)("brands",e.brands)("types",e.types),b.Bb(2),b.lc("product",e.product))},directives:[M.c,M.a,R,nt],styles:[""]}),W),rt=[{path:"",component:I},{path:"create",component:it,data:{breadcrumb:"Create"}},{path:"edit/:id",component:it,data:{breadcrumb:"Edit"}}],ot=((et=function t(){n(this,t)}).\u0275fac=function(t){return new(t||et)},et.\u0275mod=b.Mb({type:et}),et.\u0275inj=b.Lb({imports:[[f.g.forChild(rt)],f.g]}),et),ct=((tt=function t(){n(this,t)}).\u0275fac=function(t){return new(t||tt)},tt.\u0275mod=b.Mb({type:tt}),tt.\u0275inj=b.Lb({imports:[[a.c,d.a,ot]]}),tt)}}])}();